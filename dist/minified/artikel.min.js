function getArticleIdFromUrl(){const a=new URLSearchParams(window.location.search);return a.get("id")}const articleId=getArticleIdFromUrl();articleId||(window.location.href="/");const articleUrl=`https://xerosradioapi.global.ssl.fastly.net/api/xerosradio/nieuws/?article=${articleId}`,CACHE_KEY=`news_article_${articleId}`,CACHE_EXPIRATION_KEY=`${CACHE_KEY}_expires`,CACHE_DURATION=86400000;function getCachedArticle(){const a=localStorage.getItem(CACHE_KEY),b=localStorage.getItem(CACHE_EXPIRATION_KEY);return a&&b&&Date.now()<parseInt(b,10)?(console.log("\u2705 Laden vanuit cache"),JSON.parse(a)):null}function cacheArticle(a){localStorage.setItem(CACHE_KEY,JSON.stringify(a)),localStorage.setItem(CACHE_EXPIRATION_KEY,(Date.now()+CACHE_DURATION).toString())}document.title="Laden... | XerosRadio Nieuws";const defaultImage="https://res.cloudinary.com/xerosradio/image/upload/f_webp,q_auto/XerosRadio_Logo",metaTags={description:"XerosRadio Nieuwsartikel aan het laden...","og:title":"Laden... | XerosRadio Nieuws","og:description":"Dit artikel is momenteel aan het laden.","og:image":"https://res.cloudinary.com/xerosradio/image/upload/f_webp,q_auto/XerosRadio_Logo","og:url":window.location.href,"twitter:title":"Laden... | XerosRadio Nieuws","twitter:description":"Dit artikel is momenteel aan het laden.","twitter:image:src":"https://res.cloudinary.com/xerosradio/image/upload/f_webp,q_auto/XerosRadio_Logo"};Object.entries(metaTags).forEach(([a,b])=>{let c=document.querySelector(`meta[name="${a}"], meta[property="${a}"]`);c||(c=document.createElement("meta"),a.startsWith("og:")||a.startsWith("twitter:")?c.setAttribute("property",a):c.setAttribute("name",a),document.head.appendChild(c)),c.setAttribute("content",b)});function capitalize(a){return a.charAt(0).toUpperCase()+a.slice(1)}function formatDutchDate(a){const b=new Date(a);if(isNaN(b))return"Onbekende datum";const c=new Intl.DateTimeFormat("nl-NL",{weekday:"long",day:"numeric",month:"long",year:"numeric"}).formatToParts(b);let d="";c.forEach(a=>{d+="weekday"===a.type||"month"===a.type?capitalize(a.value):a.value});const e=new Intl.DateTimeFormat("nl-NL",{hour:"2-digit",minute:"2-digit"}).format(b);return`${d} ${e}`}function showLoading(){const a=document.getElementById("articles-container");a&&(a.innerHTML=`<p class="loading">Artikel wordt geladen...</p>`)}function hideLoading(){const a=document.querySelector(".loading");a&&a.remove()}async function fetchArticle(a){const b=getCachedArticle();if(b)return displayArticle(b),void updateMetaTags(b);showLoading();try{const b=await fetch(a);if(!b.ok)if(404===b.status)throw new Error("Artikel niet gevonden.");else throw new Error("Serverfout: probeer het later opnieuw.");const c=await b.json();cacheArticle(c),updateMetaTags(c),hideLoading(),displayArticle(c)}catch(a){hideLoading(),console.error("Error fetching article:",a);const b=a.message.includes("Artikel niet gevonden")?"Het artikel bestaat niet of is verwijderd.":"Er ging iets mis met het laden. Controleer je internetverbinding of probeer het later opnieuw.";displayError(b)}}function updateMetaTags(a){document.title=a.title||"XerosRadio Nieuws";const b={description:a.description||"Lees het laatste nieuws op XerosRadio.","og:title":a.title||"XerosRadio Nieuws","og:description":a.description||"Lees het laatste nieuws op XerosRadio.","og:image":a.image||defaultImage,"og:url":window.location.href,"twitter:title":a.title||"XerosRadio Nieuws","twitter:description":a.description||"Lees het laatste nieuws op XerosRadio.","twitter:image:src":a.image||defaultImage};Object.entries(b).forEach(([a,b])=>{const c=document.querySelector(`meta[name="${a}"], meta[property="${a}"]`);c&&c.setAttribute("content",b)})}function displayArticle(a){const b=document.getElementById("articles-container");if(!b)return;const c=document.createElement("div");c.classList.add("article");const d=document.createElement("h2");d.textContent=a.title;const e=document.createElement("img");e.src=a.image||defaultImage,e.alt=a.title||"Artikel afbeelding",e.loading="lazy";const f=document.createElement("p");f.textContent=a.description;const g=formatDutchDate(a.pubDate),h=document.createElement("p");h.innerHTML=`<strong>Gepubliceerd op:</strong> ${g}`,c.append(d,e,f,h),b.appendChild(c)}function displayError(a){const b=document.getElementById("articles-container");if(b){const c=document.createElement("div");c.classList.add("error"),c.innerHTML=`<p>${a}</p>`,b.appendChild(c)}}fetchArticle(articleUrl),console.log("Artikel laden gestart...");