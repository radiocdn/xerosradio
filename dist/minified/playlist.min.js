document.addEventListener("DOMContentLoaded",function(){const a=document.getElementById("playlist-container");fetch("https://xerosradioapiprd.global.ssl.fastly.net/playlist").then(a=>{if(!a.ok)throw new Error("Kan de afspeellijst niet laden.");return a.json()}).then(b=>Array.isArray(b)&&0!==b.length?void(a.innerHTML="",b.forEach(b=>{const c=b.artist||"Onbekend",d=b.title||"Onbekend nummer",e=b.played_at||"",f=b.album_cover&&b.album_cover.startsWith("http")?b.album_cover:"https://res.cloudinary.com/xerosradio/image/upload/f_webp,q_auto/XerosRadio_Logo",g=document.createElement("div");g.className="playlist-item",g.innerHTML=`
                        <img src="${f}" alt="${c} - ${d}" loading="lazy" draggable="false">
                        <div class="details">
                            <h2>${c}</h2>
                            <p>${d}</p>
                            <p>${e}</p>
                        </div>
                        <div class="spotify-youtube-container">
                            <a href="https://open.spotify.com/search/${encodeURIComponent(c+" - "+d)}" target="_blank" rel="noopener">
                                <i class="fab fa-spotify spotify-icon"></i>
                            </a>
                            <a href="https://www.youtube.com/results?search_query=${encodeURIComponent(c+" - "+d)}" target="_blank" rel="noopener">
                                <i class="fab fa-youtube youtube-icon"></i>
                            </a>
                            <a href="https://soundcloud.com/search?q=${encodeURIComponent(c+" - "+d)}" target="_blank" rel="noopener">
                                <i class="fab fa-soundcloud soundcloud-icon"></i>
                            </a>
                        </div>
                    `,a.appendChild(g)})):void(a.innerHTML="<p>Helaas, er zijn geen nummers gevonden.</p>")).catch(b=>{a.innerHTML=`<p>Fout bij het laden van de afspeellijst: ${b.message}</p>`})});