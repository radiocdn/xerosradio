document.querySelectorAll(".accordion-header").forEach(a=>{a.addEventListener("click",()=>{const b=a.nextElementSibling,c=a.querySelector(".arrow");b.style.maxHeight?(b.style.maxHeight=null,b.classList.remove("show"),c.classList.remove("rotate")):(document.querySelectorAll(".accordion-body").forEach(a=>a.style.maxHeight=null),document.querySelectorAll(".accordion-body").forEach(a=>a.classList.remove("show")),document.querySelectorAll(".arrow").forEach(b=>b.classList.remove("rotate")),b.style.maxHeight=b.scrollHeight+"px",b.classList.add("show"),c.classList.add("rotate"))})});function formatLiteral(a){const b=new Date(a.replace("Z",""));return new Intl.DateTimeFormat("nl-NL",{weekday:"long",day:"numeric",month:"long",hour:"2-digit",minute:"2-digit",hour12:!1}).format(b)}const dayMap={maandag:"showsMonday",dinsdag:"showsTuesday",woensdag:"showsWednesday",donderdag:"showsThursday",vrijdag:"showsFriday",zaterdag:"showsSaturday",zondag:"showsSunday"};async function fetchMarathon(){try{const a=await fetch("https://xr-api-2.faststreamdiensten.nl/marathonuitzending/api/frontend.php?output=all"),b=await a.json(),c={maandag:[],dinsdag:[],woensdag:[],donderdag:[],vrijdag:[],zaterdag:[],zondag:[]};b.all.forEach(a=>{const b=new Date(a.start.replace("Z","")),d=b.toLocaleDateString("nl-NL",{weekday:"long"});c[d]&&c[d].push(a)}),Object.keys(c).forEach(a=>{const b=document.getElementById(dayMap[a]);b.innerHTML="",0===c[a].length?b.innerHTML="<em>Geen shows gepland</em>":c[a].forEach(a=>{const c=document.createElement("div");c.className="mb-2",c.innerHTML=`<span class="show-title">${a.title}</span><br>
                                     <span class="show-time">${formatLiteral(a.start)} - ${formatLiteral(a.end)}</span>`,b.appendChild(c)})})}catch(a){console.error("Fout bij ophalen data:",a),Object.values(dayMap).forEach(a=>{document.getElementById(a).innerText="Kon de data niet laden."})}}fetchMarathon();