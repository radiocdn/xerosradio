document.addEventListener("DOMContentLoaded",()=>{async function a(a){if(!(h||i)){h=!0,e.style.display="block";try{const h=await fetch(a);if(!h.ok)throw new Error(`HTTP error! status: ${h.status}`);const j=await h.json();if(e.style.display="none",!j.articles||0===j.articles.length)return 0===f&&b(),i=!0,void(d.style.display="none");j.articles.forEach(a=>{const b=document.createElement("div");b.classList.add("feed-article");const d=document.createElement("a");d.href=a.link,d.target="_blank",d.rel="noopener noreferrer",d.classList.add("feed-title-link");const e=document.createElement("h2");e.textContent=a.title,d.appendChild(e),b.appendChild(d);const f=document.createElement("p");if(f.classList.add("feed-date"),f.textContent=new Date(a.pubDate).toLocaleDateString(),b.appendChild(f),a.image){const c=document.createElement("a");c.href=a.link,c.target="_blank",c.rel="noopener noreferrer";const d=document.createElement("img");d.src=a.image,d.alt=a.title,d.loading="lazy",d.classList.add("feed-article-image"),c.appendChild(d),b.appendChild(c)}const g=document.createElement("p");g.classList.add("feed-description"),g.textContent=a.description,b.appendChild(g);const h=document.createElement("a");h.href=a.link,h.textContent="Lees meer",h.target="_blank",h.rel="noopener noreferrer",h.classList.add("feed-read-more"),b.appendChild(h),b.addEventListener("click",()=>{g.classList.toggle("visible")}),c.appendChild(b)}),f+=g}catch(a){console.error("Fout Bij XerosRadio Nieuws Systeem:",a),e.style.display="none",0===f&&b(),d.style.display="none"}finally{h=!1}}}function b(){const a=document.createElement("div");a.className="news-fallback",a.innerHTML=`
            <img type="image/svg+xml" src="https://res.cloudinary.com/xerosradio/image/upload/v1752406213/Assets/errornews_xerosradio.svg" draggable="false" loading="lazy" alt="Nieuwsfeed niet beschikbaar">
            <h3>Nieuws is niet beschikbaar, probeer het later op een ander moment</h3>
        `;const b=document.getElementById("feed-feed-container");b&&b.parentNode&&b.parentNode.insertBefore(a,b)}const c=document.getElementById("feed-feed-container"),d=document.getElementById("feed-load-more"),e=document.getElementById("feed-loader");let f=0;const g=8;let h=!1,i=!1;a(`${"https://xr-api.faststreamdiensten.nl/api/xerosradio/nieuws/"}?start=${f}`),d.addEventListener("click",()=>{a(`${"https://xr-api.faststreamdiensten.nl/api/xerosradio/nieuws/"}?start=${f}`)})});