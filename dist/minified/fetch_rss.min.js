document.addEventListener("DOMContentLoaded",()=>{async function a(a){if(!(h||i)){h=!0,e.style.display="block";try{const h=await fetch(a);if(!h.ok)throw new Error(`HTTP error! status: ${h.status}`);const j=await h.json();if(e.style.display="none",!j.articles||0===j.articles.length)return 0===f&&b(),i=!0,void(d.style.display="none");j.articles.forEach(a=>{const b=document.createElement("div");b.classList.add("feed-article");const d=document.createElement("h2");d.textContent=a.title,b.appendChild(d);const e=document.createElement("p");if(e.classList.add("feed-date"),e.textContent=new Date(a.pubDate).toLocaleDateString(),b.appendChild(e),a.image){const c=document.createElement("img");c.src=a.image,c.alt=a.title,c.loading="lazy",c.classList.add("feed-article-image"),b.appendChild(c)}const f=document.createElement("p");f.classList.add("feed-description"),f.textContent=a.description,b.appendChild(f);const g=document.createElement("a");g.href=a.link,g.textContent="Lees meer",g.target="_blank",g.rel="noopener noreferrer",g.classList.add("feed-read-more"),b.appendChild(g),b.addEventListener("click",()=>{f.classList.toggle("visible")}),c.appendChild(b)}),f+=g}catch(a){console.error("Fout Bij XerosRadio Nieuws Systeem:",a),e.style.display="none",0===f&&b(),d.style.display="none"}finally{h=!1}}}function b(){const a=document.createElement("div");a.className="news-fallback",a.innerHTML=`
        <img src="https://res.cloudinary.com/xerosradio/image/upload/v1752406213/Assets/errornews" alt="Nieuws niet beschikbaar">
        <h3>Nieuws niet beschikbaar</h3>
    `;const b=document.getElementById("feed-feed-container");b&&b.parentNode&&b.parentNode.insertBefore(a,b)}const c=document.getElementById("feed-feed-container"),d=document.getElementById("feed-load-more"),e=document.getElementById("feed-loader");let f=0;const g=8;let h=!1,i=!1;a(`${"https://xerosradiocdn.global.ssl.fastly.net/api/xerosradio/nieuws/"}?start=${f}`),d.addEventListener("click",()=>{a(`${"https://xerosradiocdn.global.ssl.fastly.net/api/xerosradio/nieuws/"}?start=${f}`)})});